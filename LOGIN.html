<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Log in</title>
  <link rel="icon" type="image/jpeg" href="aespalogo.jpg"/>
  <link rel="stylesheet" href="styleslogin.css"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>
</head>
<body>
  <div class="container">
    <!-- Login Section -->
    <div class="login_access transition">
      <div class="content-header">
        <a href="index.html" class="home-logo">
          <img src="ICONS  OTHERS/MAIN_LOGO.jpeg" alt="Logo" width="200" height="100"/>
        </a>
      </div>
      <div class="text">
        <h1>Log in</h1>
        <p>Choose how you'd like to log in</p>
      </div>

      <div class="buttom">
        <button onclick="sign_up()">Sign up</button>
      </div>

      <div class="separator">
        <span>or</span>
      </div>

      <form id="loginForm">
        <div class="fill">
          <input type="email" id="loginEmail" name="Email" class="email-input" placeholder="Email" required />
        </div>
      
        <div class="pass">
          <input type="password" id="loginPassword" name="password" class="password-input" placeholder="Password" required />
        </div>
      
        <div class="submit">
            <button type="submit" class="submit-button">Continue</button>
        </div>
      </form>
      
      <p style="text-align: left; margin-top: 15px;">Privacy</p>
    </div>

    <!-- Registration Section -->
    <div class="login_registration transition" style="display: none; opacity: 0;">
      <h1>Create Account</h1>
      <div class="login_area">
        <form action="" class="login_form">
          <div class="login_group">
            <div class="login_box">
              <input type="text" id="regFname" required placeholder="First Name" name="fname"/>
              <i class="fa-solid fa-id-card login_icon"></i>
            </div>

            <div class="login_box">
              <input type="text" id="regLname" required placeholder="Last Name" name="lname"/>
              <i class="fa-solid fa-id-card login_icon"></i>
            </div>

            <div class="login_box">
              <input type="text" id="regEmail" required placeholder="Email" name="email"/>
              <i class="fa-solid fa-envelope login_icon"></i>
            </div>

            <div class="login_box">
              <input type="password" id="regPassword" required placeholder="Password" name="password"/>
              <i class="fa-solid fa-lock login_icon"></i>
            </div>
          </div>

          <div class="submit">
            <button type="submit">Create Account</button>
          </div>

          <div class="submit">
            <button type="button" onclick="back_to_login()">Back to Login</button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <script>
    function sign_up() {
      const login = document.querySelector('.login_access');
      const register = document.querySelector('.login_registration');
      
      // Fade out login
      login.style.opacity = '0';
      
      setTimeout(() => {
        login.style.display = 'none';
        // Fade in registration
        register.style.display = 'block';
        setTimeout(() => {
          register.style.opacity = '1';
        }, 50);
      }, 300);
    }

    function back_to_login() {
      const login = document.querySelector('.login_access');
      const register = document.querySelector('.login_registration');
      
      // Fade out registration
      register.style.opacity = '0';
      
      setTimeout(() => {
        register.style.display = 'none';
        // Fade in login
        login.style.display = 'block';
        setTimeout(() => {
          login.style.opacity = '1';
        }, 50);
      }, 300);
    }

    document.getElementById('loginForm').addEventListener('submit', function(event) {
      event.preventDefault();

      const emailInput = document.getElementById("loginEmail").value.trim();
      const passwordInput = document.getElementById("loginPassword").value;

      const validEmail = "aljoshua@gmail.com";
      const validPassword = "jj_Alix";

      const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      if (!emailRegex.test(emailInput)) {
          alert("Please enter a valid email address.");
          return false;
      }

      if (passwordInput.length < 6) {
          alert("Password must be at least 6 characters long.");
          return false;
      }

      if (emailInput === validEmail && passwordInput === validPassword) {
          // Add fade out effect before redirect
          document.querySelector('.container').style.opacity = '0';
          setTimeout(() => {
              window.location.href = "index.html";
          }, 300);
          return true;
      } else {
          alert("Invalid email or password.");
          return false;
      }
    });
  </script>
</body>
</html>